(()=>{"use strict";var t={874:(t,e,o)=>{o.d(e,{A:()=>r});var n=o(685),a=o.n(n)()((function(t){return t[1]}));a.push([t.id,"#GameBoard {\n\tposition: relative;\n\tmargin: auto;\n\tborder-style: solid;\n\ttransform: scale(4);\n\tmargin-top: 1000px;\n}\n\n#GameBoard .Block {\n\tposition: absolute;\n}\n\n#GameBoard #GameOver {\n\ttext-align: center;\n\theight: 100%;\n\tflex-direction: column;\n\tdisplay: flex;\n\tjustify-content: space-around;\n}\n\n#GameBoard #Score {\n\tposition: relative;\n\ttop: 105%;\n\ttext-align: center;\n\tfont-weight: bold;\n}\n\n#GameBoard #GameOverText {\n\tcolor: #ca0000;\n\tfont-weight: bold;\n\ttext-decoration-line: underline;\n}\n\n#GameBoard #PressSpaceText {\n\tcolor: #2e7ecb;\n\tfont-weight: bold;\n}\n\n",""]);const r=a},685:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var o=t(e);return e[2]?"@media ".concat(e[2]," {").concat(o,"}"):o})).join("")},e.i=function(t,o,n){"string"==typeof t&&(t=[[null,t,""]]);var a={};if(n)for(var r=0;r<this.length;r++){var i=this[r][0];null!=i&&(a[i]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);n&&a[c[0]]||(o&&(c[2]?c[2]="".concat(o," and ").concat(c[2]):c[2]=o),e.push(c))}},e}},137:(t,e,o)=>{var n,a=function(){var t={};return function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}t[e]=o}return t[e]}}(),r=[];function i(t){for(var e=-1,o=0;o<r.length;o++)if(r[o].identifier===t){e=o;break}return e}function s(t,e){for(var o={},n=[],a=0;a<t.length;a++){var s=t[a],c=e.base?s[0]+e.base:s[0],h=o[c]||0,l="".concat(c," ").concat(h);o[c]=h+1;var u=i(l),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(r[u].references++,r[u].updater(d)):r.push({identifier:l,updater:v(d,e),references:1}),n.push(l)}return n}function c(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var r=o.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var i=a(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var h,l=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function u(t,e,o,n){var a=o?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=l(e,a);else{var r=document.createTextNode(a),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(r,i[e]):t.appendChild(r)}}function d(t,e,o){var n=o.css,a=o.media,r=o.sourceMap;if(a?t.setAttribute("media",a):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var p=null,f=0;function v(t,e){var o,n,a;if(e.singleton){var r=f++;o=p||(p=c(e)),n=u.bind(null,o,r,!1),a=u.bind(null,o,r,!0)}else o=c(e),n=d.bind(null,o,e),a=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(o)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else a()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var o=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<o.length;n++){var a=i(o[n]);r[a].references--}for(var c=s(t,e),h=0;h<o.length;h++){var l=i(o[h]);0===r[l].references&&(r[l].updater(),r.splice(l,1))}o=c}}}}},e={};function o(n){var a=e[n];if(void 0!==a)return a.exports;var r=e[n]={id:n,exports:{}};return t[n](r,r.exports,o),r.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.nc=void 0;var n={};o.r(n),o.d(n,{default:()=>y});const a=require("react");var r=o.n(a),i=o(137),s=o.n(i),c=o(874);s()(c.A,{insert:"head",singleton:!1}),c.A.locals;const h=function(t){return r().createElement("div",{id:"GameBoard",style:{width:t.width,height:t.height,borderWidth:t.width/50}},r().createElement("div",{id:"GameOver",style:{fontSize:t.width/15}},r().createElement("div",{id:"GameOverText"},"GAME OVER"),r().createElement("div",null,"Your score: ",t.score),r().createElement("div",null,t.newHighScore?"New local ":"Local ","high score:"," ",t.highScore),r().createElement("div",{id:"PressSpaceText"},"Press Space to restart")))};function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function d(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}function p(t,e,o){return e=v(e),function(t,e){if(e&&("object"==l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,o||[],v(t).constructor):e.apply(t,o))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}var g=function(t){function e(t){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=p(this,e,[t])).handleKeyDown=o.handleKeyDown.bind(o),o.state={width:0,height:0,blockWidth:0,blockHeight:0,gameLoopTimeout:300,timeoutId:0,startSnakeSize:0,snake:[],apple:{},direction:"right",directionChanged:!1,isGameOver:!1,snakeColor:o.props.snakeColor||o.getRandomColor(),appleColor:o.props.appleColor||o.getRandomColor(),score:0,highScore:Number(localStorage.getItem("snakeHighScore"))||0,newHighScore:!1},o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(e,t),o=e,(n=[{key:"componentDidMount",value:function(){this.initGame(),window.addEventListener("keydown",this.handleKeyDown),this.gameLoop()}},{key:"initGame",value:function(){var t=this.props.percentageWidth||40,e=document.getElementById("GameBoard").parentElement.offsetWidth*(t/100);(e-=e%30)<30&&(e=30);var o=e/3*2,n=e/27,a=o/19,r=this.props.startSnakeSize||6,i=[],s=e/2,c=o/2,h={Xpos:e/2,Ypos:o/2};i.push(h);for(var l=1;l<r;l++){var u={Xpos:s-=n,Ypos:c};i.push(u)}for(var d=Math.floor(Math.random()*((e-n)/n+1))*n,p=Math.floor(Math.random()*((o-a)/a+1))*a;p===i[0].Ypos;)p=Math.floor(Math.random()*((o-a)/a+1))*a;this.setState({width:e,height:o,blockWidth:n,blockHeight:a,startSnakeSize:r,snake:i,apple:{Xpos:d,Ypos:p}})}},{key:"gameLoop",value:function(){var t=this,e=setTimeout((function(){t.state.isGameOver?t.props.callback({callbackReturnVal:!0}):(t.moveSnake(),t.tryToEatSnake(),t.tryToEatApple(),t.setState({directionChanged:!1})),t.gameLoop()}),this.state.gameLoopTimeout);this.setState({timeoutId:e})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.timeoutId),window.removeEventListener("keydown",this.handleKeyDown)}},{key:"resetGame",value:function(){var t=this.state.width,e=this.state.height,o=this.state.blockWidth,n=this.state.blockHeight,a=this.state.apple,r=[],i=t/2,s=e/2,c={Xpos:t/2,Ypos:e/2};r.push(c);for(var h=1;h<this.state.startSnakeSize;h++){var l={Xpos:i-=o,Ypos:s};r.push(l)}for(a.Xpos=Math.floor(Math.random()*((t-o)/o+1))*o,a.Ypos=Math.floor(Math.random()*((e-n)/n+1))*n;this.isAppleOnSnake(a.Xpos,a.Ypos);)a.Xpos=Math.floor(Math.random()*((t-o)/o+1))*o,a.Ypos=Math.floor(Math.random()*((e-n)/n+1))*n;this.setState({snake:r,apple:a,direction:"right",directionChanged:!1,isGameOver:!1,gameLoopTimeout:300,snakeColor:this.getRandomColor(),appleColor:this.getRandomColor(),score:0,newHighScore:!1})}},{key:"getRandomColor",value:function(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}},{key:"moveSnake",value:function(){var t=this.state.snake,e=this.state.snake[0].Xpos,o=this.state.snake[0].Ypos,n=e,a=o;this.moveHead();for(var r=1;r<t.length;r++)n=t[r].Xpos,a=t[r].Ypos,t[r].Xpos=e,t[r].Ypos=o,e=n,o=a;this.setState({snake:t})}},{key:"tryToEatApple",value:function(){var t=this.state.snake,e=this.state.apple;if(t[0].Xpos===e.Xpos&&t[0].Ypos===e.Ypos){var o=this.state.width,n=this.state.height,a=this.state.blockWidth,r=this.state.blockHeight,i={Xpos:e.Xpos,Ypos:e.Ypos},s=this.state.highScore,c=this.state.newHighScore,h=this.state.gameLoopTimeout;for(t.push(i),e.Xpos=Math.floor(Math.random()*((o-a)/a+1))*a,e.Ypos=Math.floor(Math.random()*((n-r)/r+1))*r;this.isAppleOnSnake(e.Xpos,e.Ypos);)e.Xpos=Math.floor(Math.random()*((o-a)/a+1))*a,e.Ypos=Math.floor(Math.random()*((n-r)/r+1))*r;this.state.score===s&&(s++,localStorage.setItem("snakeHighScore",s),c=!0),this.setState({snake:t,apple:e,score:this.state.score+1,highScore:s,newHighScore:c,gameLoopTimeout:h})}}},{key:"tryToEatSnake",value:function(){for(var t=this.state.snake,e=1;e<t.length;e++)t[0].Xpos===t[e].Xpos&&t[0].Ypos===t[e].Ypos&&this.setState({isGameOver:!0})}},{key:"isAppleOnSnake",value:function(t,e){for(var o=this.state.snake,n=0;n<o.length;n++)if(t===o[n].Xpos&&e===o[n].Ypos)return!0;return!1}},{key:"moveHead",value:function(){switch(this.state.direction){case"left":this.moveHeadLeft();break;case"up":this.moveHeadUp();break;case"right":this.moveHeadRight();break;default:this.moveHeadDown()}}},{key:"moveHeadLeft",value:function(){var t=this.state.width,e=this.state.blockWidth,o=this.state.snake;o[0].Xpos=o[0].Xpos<=0?t-e:o[0].Xpos-e,this.setState({snake:o})}},{key:"moveHeadUp",value:function(){var t=this.state.height,e=this.state.blockHeight,o=this.state.snake;o[0].Ypos=o[0].Ypos<=0?t-e:o[0].Ypos-e,this.setState({snake:o})}},{key:"moveHeadRight",value:function(){var t=this.state.width,e=this.state.blockWidth,o=this.state.snake;o[0].Xpos=o[0].Xpos>=t-e?0:o[0].Xpos+e,this.setState({snake:o})}},{key:"moveHeadDown",value:function(){var t=this.state.height,e=this.state.blockHeight,o=this.state.snake;o[0].Ypos=o[0].Ypos>=t-e?0:o[0].Ypos+e,this.setState({snake:o})}},{key:"handleKeyDown",value:function(t){if(this.state.isGameOver&&32===t.keyCode)this.resetGame();else if(!this.state.directionChanged){switch(t.keyCode){case 37:case 65:this.goLeft();break;case 38:case 87:this.goUp();break;case 39:case 68:this.goRight();break;case 40:case 83:this.goDown()}this.setState({directionChanged:!0})}}},{key:"goLeft",value:function(){var t="right"===this.state.direction?"right":"left";this.setState({direction:t})}},{key:"goUp",value:function(){var t="down"===this.state.direction?"down":"up";this.setState({direction:t})}},{key:"goRight",value:function(){var t="left"===this.state.direction?"left":"right";this.setState({direction:t})}},{key:"goDown",value:function(){var t="up"===this.state.direction?"up":"down";this.setState({direction:t})}},{key:"render",value:function(){var t=this;return this.state.isGameOver?r().createElement(h,{width:this.state.width,height:this.state.height,highScore:this.state.highScore,newHighScore:this.state.newHighScore,score:this.state.score}):r().createElement("div",{id:"GameBoard",style:{width:this.state.width,height:this.state.height,borderWidth:this.state.width/50}},this.state.snake.map((function(e,o){return r().createElement("div",{key:o,className:"Block",style:{width:t.state.blockWidth,height:t.state.blockHeight,left:e.Xpos,top:e.Ypos,background:t.state.snakeColor}})})),r().createElement("div",{className:"Block",style:{width:this.state.blockWidth,height:this.state.blockHeight,left:this.state.apple.Xpos,top:this.state.apple.Ypos,background:this.state.appleColor}}),r().createElement("div",{id:"Score",style:{fontSize:this.state.width/20}},"HIGH-SCORE: ",this.state.highScore,"    SCORE:"," ",this.state.score))}}])&&u(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,n}(r().Component);const y=g;module.exports=n})();