(()=>{"use strict";var e={874:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(685),a=o.n(n)()((function(e){return e[1]}));a.push([e.id,"#GameBoard {\n\tposition: relative;\n\tmargin: auto;\n\tborder-style: solid;\n\ttransform: scale(4);\n\tmargin-top: 1000px;\n}\n\n#GameBoard .Block {\n\tposition: absolute;\n}\n\n#GameBoard #GameOver {\n\ttext-align: center;\n\theight: 100%;\n\tflex-direction: column;\n\tdisplay: flex;\n\tjustify-content: space-around;\n}\n\n#GameBoard #Score {\n\tposition: relative;\n\ttop: 105%;\n\ttext-align: center;\n\tfont-weight: bold;\n}\n\n#GameBoard #GameOverText {\n\tcolor: #ca0000;\n\tfont-weight: bold;\n\ttext-decoration-line: underline;\n}\n\n#GameBoard #PressSpaceText {\n\tcolor: #2e7ecb;\n\tfont-weight: bold;\n}\n\n",""]);const i=a},685:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o=e(t);return t[2]?"@media ".concat(t[2]," {").concat(o,"}"):o})).join("")},t.i=function(e,o,n){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(n)for(var i=0;i<this.length;i++){var r=this[i][0];null!=r&&(a[r]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);n&&a[c[0]]||(o&&(c[2]?c[2]="".concat(o," and ").concat(c[2]):c[2]=o),t.push(c))}},t}},137:(e,t,o)=>{var n,a=function(){var e={};return function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}e[t]=o}return e[t]}}(),i=[];function r(e){for(var t=-1,o=0;o<i.length;o++)if(i[o].identifier===e){t=o;break}return t}function s(e,t){for(var o={},n=[],a=0;a<e.length;a++){var s=e[a],c=t.base?s[0]+t.base:s[0],h=o[c]||0,l="".concat(c," ").concat(h);o[c]=h+1;var u=r(l),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(i[u].references++,i[u].updater(d)):i.push({identifier:l,updater:v(d,t),references:1}),n.push(l)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=o.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var r=a(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var h,l=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function u(e,t,o,n){var a=o?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=l(t,a);else{var i=document.createTextNode(a),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(i,r[t]):e.appendChild(i)}}function d(e,t,o){var n=o.css,a=o.media,i=o.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,f=0;function v(e,t){var o,n,a;if(t.singleton){var i=f++;o=p||(p=c(t)),n=u.bind(null,o,i,!1),a=u.bind(null,o,i,!0)}else o=c(t),n=d.bind(null,o,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var o=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<o.length;n++){var a=r(o[n]);i[a].references--}for(var c=s(e,t),h=0;h<o.length;h++){var l=r(o[h]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}o=c}}}}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nc=void 0;var n={};o.r(n),o.d(n,{default:()=>y});const a=require("react");var i=o.n(a),r=o(137),s=o.n(r),c=o(874);s()(c.A,{insert:"head",singleton:!1}),c.A.locals;const h=function(e){return i().createElement("div",{id:"GameBoard",style:{width:e.width,height:e.height,borderWidth:e.width/50}},i().createElement("div",{id:"GameOver",style:{fontSize:e.width/15}},i().createElement("div",{id:"GameOverText"},"GAME OVER"),i().createElement("div",null,"Your score: ",e.score),i().createElement("div",null,e.newHighScore?"New local ":"Local ","high score:"," ",e.highScore),i().createElement("div",{id:"PressSpaceText"},"Press Space to restart")))};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function d(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}function p(e,t,o){return t=v(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,o||[],v(e).constructor):t.apply(e,o))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var g=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=p(this,t,[e])).handleKeyDown=o.handleKeyDown.bind(o),o.state={singleSignedMessage:!0,width:0,height:0,blockWidth:0,blockHeight:0,gameLoopTimeout:300,timeoutId:0,startSnakeSize:0,snake:[],apple:{},direction:"right",directionChanged:!1,isGameOver:!1,snakeColor:o.props.snakeColor||o.getRandomColor(),appleColor:o.props.appleColor||o.getRandomColor(),score:0,highScore:Number(localStorage.getItem("snakeHighScore"))||0,newHighScore:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),o=t,(n=[{key:"componentDidMount",value:function(){this.initGame(),window.addEventListener("keydown",this.handleKeyDown),this.gameLoop()}},{key:"initGame",value:function(){var e=this.props.percentageWidth||40,t=document.getElementById("GameBoard").parentElement.offsetWidth*(e/100);(t-=t%30)<30&&(t=30);var o=t/3*2,n=t/30,a=o/20,i=this.props.startSnakeSize||6,r=[],s=t/2,c=o/2,h={Xpos:t/2,Ypos:o/2};r.push(h);for(var l=1;l<i;l++){var u={Xpos:s-=n,Ypos:c};r.push(u)}for(var d=Math.floor(Math.random()*((t-n)/n+1))*n,p=Math.floor(Math.random()*((o-a)/a+1))*a;p===r[0].Ypos;)p=Math.floor(Math.random()*((o-a)/a+1))*a;this.setState({width:t,height:o,blockWidth:n,blockHeight:a,startSnakeSize:i,snake:r,apple:{Xpos:d,Ypos:p}})}},{key:"gameLoop",value:function(){var e=this,t=setTimeout((function(){e.state.isGameOver||(e.moveSnake(),e.tryToEatSnake(),e.tryToEatApple(),e.setState({directionChanged:!1})),e.state.isGameOver&&e.state.singleSignedMessage&&(e.props.callback({callbackReturnVal:!0}),e.state.singleSignedMessage=!1),e.gameLoop()}),this.state.gameLoopTimeout);this.setState({timeoutId:t})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.timeoutId),window.removeEventListener("keydown",this.handleKeyDown)}},{key:"resetGame",value:function(){var e=this.state.width,t=this.state.height,o=this.state.blockWidth,n=this.state.blockHeight,a=this.state.apple;this.state.singleSignedMessage=!0;var i=[],r=e/2,s=t/2,c={Xpos:e/2,Ypos:t/2};i.push(c);for(var h=1;h<this.state.startSnakeSize;h++){var l={Xpos:r-=o,Ypos:s};i.push(l)}for(a.Xpos=Math.floor(Math.random()*((e-o)/o+1))*o,a.Ypos=Math.floor(Math.random()*((t-n)/n+1))*n;this.isAppleOnSnake(a.Xpos,a.Ypos);)a.Xpos=Math.floor(Math.random()*((e-o)/o+1))*o,a.Ypos=Math.floor(Math.random()*((t-n)/n+1))*n;this.setState({snake:i,apple:a,direction:"right",directionChanged:!1,isGameOver:!1,gameLoopTimeout:300,snakeColor:this.getRandomColor(),appleColor:this.getRandomColor(),score:0,newHighScore:!1})}},{key:"getRandomColor",value:function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}},{key:"moveSnake",value:function(){var e=this.state.snake,t=this.state.snake[0].Xpos,o=this.state.snake[0].Ypos,n=t,a=o;this.moveHead();for(var i=1;i<e.length;i++)n=e[i].Xpos,a=e[i].Ypos,e[i].Xpos=t,e[i].Ypos=o,t=n,o=a;this.setState({snake:e})}},{key:"tryToEatApple",value:function(){var e=this.state.snake,t=this.state.apple;if(e[0].Xpos===t.Xpos&&e[0].Ypos===t.Ypos){var o=this.state.width,n=this.state.height,a=this.state.blockWidth,i=this.state.blockHeight,r={Xpos:t.Xpos,Ypos:t.Ypos},s=this.state.highScore,c=this.state.newHighScore,h=this.state.gameLoopTimeout;for(e.push(r),t.Xpos=Math.floor(Math.random()*((o-a)/a+1))*a,t.Ypos=Math.floor(Math.random()*((n-i)/i+1))*i;this.isAppleOnSnake(t.Xpos,t.Ypos);)t.Xpos=Math.floor(Math.random()*((o-a)/a+1))*a,t.Ypos=Math.floor(Math.random()*((n-i)/i+1))*i;this.state.score===s&&(s++,localStorage.setItem("snakeHighScore",s),c=!0),this.setState({snake:e,apple:t,score:this.state.score+1,highScore:s,newHighScore:c,gameLoopTimeout:h})}}},{key:"tryToEatSnake",value:function(){for(var e=this.state.snake,t=1;t<e.length;t++)e[0].Xpos===e[t].Xpos&&e[0].Ypos===e[t].Ypos&&this.setState({isGameOver:!0})}},{key:"isAppleOnSnake",value:function(e,t){for(var o=this.state.snake,n=0;n<o.length;n++)if(e===o[n].Xpos&&t===o[n].Ypos)return!0;return!1}},{key:"moveHead",value:function(){switch(this.state.direction){case"left":this.moveHeadLeft();break;case"up":this.moveHeadUp();break;case"right":this.moveHeadRight();break;default:this.moveHeadDown()}}},{key:"moveHeadLeft",value:function(){var e=this.state.width,t=this.state.blockWidth,o=this.state.snake;o[0].Xpos=o[0].Xpos<=0?e-t:o[0].Xpos-t,this.setState({snake:o})}},{key:"moveHeadUp",value:function(){var e=this.state.height,t=this.state.blockHeight,o=this.state.snake;o[0].Ypos=o[0].Ypos<=0?e-t:o[0].Ypos-t,this.setState({snake:o})}},{key:"moveHeadRight",value:function(){var e=this.state.width,t=this.state.blockWidth,o=this.state.snake;o[0].Xpos=o[0].Xpos>=e-t?0:o[0].Xpos+t,this.setState({snake:o})}},{key:"moveHeadDown",value:function(){var e=this.state.height,t=this.state.blockHeight,o=this.state.snake;o[0].Ypos=o[0].Ypos>=e-t?0:o[0].Ypos+t,this.setState({snake:o})}},{key:"handleKeyDown",value:function(e){if(this.state.isGameOver&&32===e.keyCode)this.resetGame();else if(!this.state.directionChanged){switch(e.keyCode){case 37:case 65:this.goLeft();break;case 38:case 87:this.goUp();break;case 39:case 68:this.goRight();break;case 40:case 83:this.goDown()}this.setState({directionChanged:!0})}}},{key:"goLeft",value:function(){var e="right"===this.state.direction?"right":"left";this.setState({direction:e})}},{key:"goUp",value:function(){var e="down"===this.state.direction?"down":"up";this.setState({direction:e})}},{key:"goRight",value:function(){var e="left"===this.state.direction?"left":"right";this.setState({direction:e})}},{key:"goDown",value:function(){var e="up"===this.state.direction?"up":"down";this.setState({direction:e})}},{key:"render",value:function(){var e=this;return this.state.isGameOver?i().createElement(h,{width:this.state.width,height:this.state.height,highScore:this.state.highScore,newHighScore:this.state.newHighScore,score:this.state.score}):i().createElement("div",{id:"GameBoard",style:{width:this.state.width,height:this.state.height,borderWidth:this.state.width/50}},this.state.snake.map((function(t,o){return i().createElement("div",{key:o,className:"Block",style:{width:e.state.blockWidth,height:e.state.blockHeight,left:t.Xpos,top:t.Ypos,background:e.state.snakeColor}})})),i().createElement("div",{className:"Block",style:{width:this.state.blockWidth,height:this.state.blockHeight,left:this.state.apple.Xpos,top:this.state.apple.Ypos,background:this.state.appleColor}}),i().createElement("div",{id:"Score",style:{fontSize:this.state.width/20}},"HIGH-SCORE: ",this.state.highScore,"    SCORE:"," ",this.state.score))}}])&&u(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,n}(i().Component);const y=g;module.exports=n})();